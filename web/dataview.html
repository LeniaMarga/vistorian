<!DOCTYPE html>
<html>

<style>
.black_overlay {
  display: none;
  position: absolute;
  top: 0%;
  left: 0%;
  width: 150%;
  height: 250%;
  background-color: black;
  z-index: 1001;
  -moz-opacity: 0.8;
  opacity: .80;
  filter: alpha(opacity=80);
}
.white_content {
  display: none;
  position: absolute;
  top: 10%;
  left: 15%;
  width: 65%;
  height: 77%;
  padding: 10px;
  border: 10px solid orange;
  background-color: white;
  z-index: 1002;
  overflow: auto;
}

</style>
<head>
    <meta content="text/html; charset=UTF-8; X-Content-Type-Options=nosniff" http-equiv="Content-Type" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <title>Data view</title>
	<!-- VS: Call to trace.js -->
	<!-- <script type="text/javascript" src="traces/trace.js"></script> -->
	
    <link rel="stylesheet" type="text/css" href="./styles.css"/>
    <link rel="stylesheet" type="text/css" href="./dataview_styles.css"/>
    <link rel="stylesheet" type="text/css" href="./tablestyle.css"/>
    <script src="../core/networkcube.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Poiret+One" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Nunito+Sans" rel="stylesheet">
    <link rel="stylesheet" href="lib/jquery-ui.css">
    <script src="lib/jquery-ui.js"></script>
</head>

<body>
	
        <table id="main">
        <tr>
        <td id="menu">
            <a href="index.html"><img width="100%" src="logos/logo-networkcube.png"/></a>
            <p id="intro">
            This is your data view. Below you find a list of visualizations and the 
            networks currently in your browser.
            </p>


         <!-- VS: Mail me -->
            <style type="text/css">
            #submit {
              background-color: #bbb;
              padding: .5em;
              -moz-border-radius: 5px;
              -webkit-border-radius: 5px;
              border-radius: 6px;
              color: #fff;
              font-family: 'Oswald';
              font-size: 15px;
              text-decoration: none;
              border: none;
            }

            #submit:hover {
              border: none;
              background: orange;
              box-shadow: 0px 0px 1px #777;
            }
            </style>

              <button id="submit" class="button hastooltip" href="javascript:void(0)" onclick="showQuestionaire()">Mail me a screenshot
              </button>

              <!-- VS: MailMeQuestionnaire1 -->
              <div id="light" class="white_content" href="MailMeQuestionnaire1.html">


                
                                        <style>

                                        a{text-decoration: none; color:white;}


                                        .button1 {
                                            background-color: orange; 
                                            border: none;
                                            color: white;
                                            padding: 10px 20px;
                                            text-align: center;
                                            text-decoration: none;
                                            display: inline-block;
                                            cursor: pointer;
                                        }

                                        .button2 {
                                            background-color: green;
                                            border: none;
                                            color: white;
                                            padding: 10px 20px;
                                            text-align: center;
                                            text-decoration: none;
                                            display: inline-block;
                                            cursor: pointer;
                                          } 

                                        .buttonClose {
                                            background-color: #cc0000;
                                            border: none;
                                            color: white;}

                                        .wrapper {
                                            text-align: center;
                                        }

                                        hr {
                                            display: block;
                                            height: 1px;
                                            border: 0;
                                            border-top: 1px solid #ccc;
                                            margin: 1em 0;
                                            padding: 0; 
                                        }

                                        fieldset
                                        {
                                            margin:auto;
                                        }                                        }

                                        </style>

                            
                             <form action="https://webpagefx.createsend.com/t/y/s/ajrhjy/" method="post" class="sign-up-form sticky-bottom-form" id="sticky-bottom-form" onSubmit="_gaq.push(['_trackEvent', 'blog', 'newsletter-signup', 'slider-signup']);" >
                                               
                                               <p> </p>
                                                <fieldset style = "width: 740px; margin-top: 0px auto;">
                                                
                                                <!--<button type="button" class="buttonClose" id="signup-close" style="position: absolute;right:35px;top:10px;outline:10px solid #fff"color = red><big>X</big></button> -->


                                                <button class="buttonClose" style="position: absolute;right:35px;top:20px;outline:10px solid #fff"color = red>
                                                 <a href="javascript:void(0)" onclick="document.getElementById('light').style.display='none';document.getElementById('fade').style.display='none'"><big>X</big></a>
                                                </button>



                                                <h3> <font size="5">Mail me a screenshot</font></h3>

                                                <hr>
                                                <!-- Multiple Radios -->
                                                <div class="form-group">
                                                  <label class="col-md-4 control-label" for="radios" style="margin-left:0em;"><b>Format</b></label>
                                                  <div class="col-md-4">
                                                  <div class="radio">
                                                    <label for="radios-0">
                                                      <input type="radio" name="radios" id="radios-0" value="1" checked="checked">
                                                      PNG
                                                    </label>
                                                  </div>
                                                  <div class="radio">
                                                    <label for="radios-1">
                                                      <input type="radio" name="radios" id="radios-1" value="2">
                                                      SVG
                                                    </label>
                                                  </div>
                                                  </div>
                                                </div>
                                                <p> </p>
                                                <!-- Multiple Checkboxes -->
                                                <div class="form-group">
                                                  <label class="col-md-4 control-label" for="checkboxes"></label>
                                                  <div class="col-md-4">
                                                  <div class="checkbox">
                                                    <label for="checkboxes-0">
                                                      <input type="checkbox" name="checkboxes" id="checkboxes-0" value="1">
                                                      Add legend in separate file
                                                    </label>
                                                  </div>
                                                  <div class="checkbox">
                                                    <label for="checkboxes-1">
                                                      <input type="checkbox" name="checkboxes" id="checkboxes-1" value="2">
                                                      Send copy to the Vistorian team
                                                    </label>
                                                  </div>
                                                  </div>
                                                </div>
                                                <hr>
                                                <p> Please help us understand the context of use:</p>

                                               
                                                <table> <td>
                                                <fieldset style="border:1px dashed #555555; vertical-align:top; width: 550px;">

                                                 <h3> <small>In this work session with the Vistorian I wanted to:</small></h3>
                                                 <div class="radio">
                                                    <label for="radios-0">
                                                      <input type="radio" name="radios" id="radios-0" value="1" checked="checked">
                                                      [Analyze data]
                                                    </label>
                                                  </div>
                                                  <div class="radio">
                                                    <label for="radios-1">
                                                      <input type="radio" name="radios" id="radios-1" value="2">
                                                      [Learn] To see what the tool can do, read the manual, play with examples
                                                    </label>
                                                  </div>
                                                   <div class="radio">
                                                    <label for="radios-1">
                                                      <input type="radio" name="radios" id="radios-1" value="2">
                                                      [Demo to others] To teach or help others get started
                                                    </label>
                                                  </div>
                                                   <div class="radio">
                                                    <label for="radios-1">
                                                      <input type="radio" name="radios" id="radios-1" value="2">
                                                      [Test the software] To document a bug or check that is fixed
                                                    </label>
                                                  </div>
                                                   <div class="radio">
                                                    <label for="radios-1">
                                                      <input type="radio" name="radios" id="radios-1" value="2">
                                                      [Other] You will be able to describe it later
                                                    </label>
                                                  </div>
                                                </fieldset>

                                                </td>


                                                <td> 
                                                    <fieldset style="text-align:top; border:none; background-color:#f5f5f0;margin-top: 0px auto; width: 190px;">
                                                    <p><font size="2">To select a single answer and submit it: double click on the answer</font></p>
                                                    <p style="margin-top: -15px;"><font size="2">Ore select multiple answers then click on the CONTINUE button</font></p>
                                                    </fieldset> 
                                                </td>
                                                </table>
                                                
                                                <input type="hidden" id="fieldcjkkdj" name="cm-f-cjkkdj" value="/blog/web-design/create_web_design_questions/">
                                                <input type="hidden" id="fieldqlhyuk" name="cm-f-qlhyuk" value="slide-in">  
                                                <p></p>
                                                <div class="wrapper">
                                                <button class="button1">
                                                 <a href="javascript:void(0)" onclick="document.getElementById('light').style.display='none';document.getElementById('fade').style.display='none'">Skip the questionnaire (Esc)</a>
                                                </button>
                                                <button class="button2">
                                                <a href="MailMeQuestionnaire2.html" target="_blank" onclick="trace.event(null, 'MiniQuestionnaire', 'MailMeQuestionnaire2')">Continue</a>
                                                </button>
                                                </div>
                                                </fieldset>
                                                
                                            </form>
                                       

              </div>
              <div id="fade" class="black_overlay"></div>        

              
              

            <p> </p>
            <script language="javascript" type="text/javascript">
            function windowClose() {
              trace.event(null, 'WorkSessionEnd', 'EndOfActivity');
              window.close();
            }
            </script>
            <button id="submit" class="button hastooltip" onclick="windowClose()">Report end of the activity
            </button>
            <p> </p>
            
              <p>This is the main content. To display a lightbox click <a href="javascript:void(0)" onclick="document.getElementById('light').style.display='block';document.getElementById('fade').style.display='block'">here</a>
              </p>
              <div id="light" class="white_content">This is the lightbox content. <a href="javascript:void(0)" onclick="document.getElementById('light').style.display='none';document.getElementById('fade').style.display='none'">Close</a>
              </div>
              <div id="fade" class="black_overlay"></div>

            <div id="visualizationListDiv">
                <h2>Visualizations</h2>
                <ul id="visualizationList" class="nointent"></ul>
				
            </div>

            <div id="networkListDiv">
            <script type="text/javascript">
                      function someFunc () {
                        createNetwork();
                        trace.event(null, 'WorkSessionStart', 'CreateNewNetwork');
                       }
            </script>
                <h2>
                    Networks 
                    <input type="button" class="menuButton hastooltip" value="New" onclick="someFunc()"
                    title="Create new network from one or more tables."/>
                </h2>
                <ul id="networkList" class="nointent" onclick="trace.event(null, 'WorkSessionStart', 'SelectExistingNetwork')"></ul>
            </div>

            <div id="tableListDiv">
                <h2>My Data Tables
                <input id="files" type="file" name="file" class="inputfile" value="Upload" name="files[]" data-multiple-caption="{count} files selected" multiple />
                <label for="files" class="menuButton hastooltip" title="Upload a new table in CSV file." onclick="trace.event(null, 'WorkSessionStart', 'UpLoadData')">
                    Upload
                </label>
                </h2>
                <ul id="tableList" class="nointent" onclick="trace.event(null, 'WorkSessionStart', 'SelectExistingData')"></ul>
            </div>

            <div>
                <input id="clearCacheButton" type="button" class=" hastooltip" value="Clear temporary cache" title="Removes networks from chache without deleting them. Networks to be visualized must be saved again, before visualizing." onclick="clearCache()"></button>
            </div>
        </td>

        <td id="center">
            <div id="noNetworkTables" style="display:block;">
                <p>No tables or networks selected. Select a table or network from the list on the left.
                </p>
            </div>
            <div id="networkTables" style="display:none;">

                <div id="networkInfoDiv">
                    <p class="title">Network Name: <input id="networknameInput" type="text" size="80"/>
                    <input id="saveNetworkButton" class="tableMenuButton" type="button" value="Save" onclick="saveCurrentNetwork(false)"/>
                    <input id="deleteNetworkButton" class="tableMenuButton" type="button" value="Delete" onclick="deleteCurrentNetwork()"/>
                    </p>
                </div>

                <!-- Show Node table here -->
                <div id="nodeTableContainer">
                    <p class="title tableMenu" >Node Table:
                    <select id="nodetableSelect" onchange="setNodeTable(this)">
                        <option>---</option>
                    </select>
                    </p>
                    <div id="nodeTableDiv"></div>
                </div>

                <!-- Show link table here -->
                <div id="linkTableContainer">
                    <p class="title tableMenu">Link Table: 
                    <select id="linktableSelect" onchange="setLinkTable(this)">
                        <option>---</option>
                    </select>
                    </p>
                    <div id="linkTableDiv"></div>
                </div>

                <!-- Show location table here -->
                <div id="locationTableContainer">
                    <p class="title tableMenu">Select Location Table: 
                        <select id="locationtableSelect" onchange="setLocationTable(this)">
                            <option>---</option>
                        </select>
                    </p>
                    <div id="locationTableDiv"></div>
                </div>

            </div>

            <div id="individualTables" style="display:none;">
                <div id="tableInfoDiv">
                    <input id="deleteTableButton" type="button" value="Delete" onclick="deleteCurrentTable()"/>
                    </p>
                </div>
                <div id="individualTable"></div>

            </div>

            <div id="chooseNetworktype" style="display:none;">
                <h2>Create new network</h2>
                <p>Which of the below form has your data?</p>

                <h3>a) Node-Table Format:</h3>
                <img src="figures/node-table.png" alt="" class="tablePic" onclick="setNetworkConfig('node')">
                <br/>
                <br/>
                <h3>b) Link-Table Format:</h3>
                <img src="figures/link-table.png" alt="" class="tablePic" onclick="setNetworkConfig('link')">
                <br/>
                <br/>
                <h3>c) Node- and Link-Table Format:</h3>
                <img src="figures/both-table.png" alt="" class="tablePic" onclick="setNetworkConfig('both')">

            </div>

        </div>
        </tr>
    </table>
    <div id="footer">
                <a class="footer" href="mailto:networkcube@microsoft.com" target="_top">Contact Us</a> |
                <a class="footer" href="https://go.microsoft.com/fwlink/?LinkId=521839" title="privacy">Privacy & Cookies</a>   |
                <a class="footer" href="https://go.microsoft.com/fwlink/?LinkID=760869" title="terms of use">Terms Of Use</a>   |
                <a class="footer" href="http://go.microsoft.com/fwlink/?LinkId=506942" title="trademarks">Trademarks</a>   
                © 2016 Microsoft <img src="logos/logo-microsoft.png" height="20px"> © 2016 INRIA <img src="logos/logo-inria.png" height="20px">
    </div>
    <script type="text/javascript" charset="utf8" src="DataTables-1.10.7/media/js/jquery.dataTables.js"></script>
    <script src="./lib/jstorage.js"></script>
    <script src="./classes/storage.js"></script>
    <script src="./classes/utils.js"></script>
    <script src="./classes/vistorian.js"></script>
    <script type="text/javascript" src="dataview.js"></script>
    <script>
        

        // Hack to make upload button look nice: 
        // from: http://tympanus.net/codrops/2015/09/15/styling-customizing-file-inputs-smart-way/
  
        'use strict';

        $(document).tooltip();

        ;( function ( document, window, index )
        {
     
            var inputs = document.querySelectorAll( '.inputfile' );
            Array.prototype.forEach.call( inputs, function( input )
            {
                console.log('input', input)
                var label    = input.nextElementSibling,
                    labelVal = label.innerHTML;

                input.addEventListener( 'change', function( e )
                {
                    console.log('>> change')
                    var fileName = '';
                    if( this.files && this.files.length > 1 )
                        fileName = ( this.getAttribute( 'data-multiple-caption' ) || '' ).replace( '{count}', this.files.length );
                    else
                        fileName = e.target.value.split( '\\' ).pop();

                });

                // Firefox bug fix
                input.addEventListener( 'focus', function(){ input.classList.add( 'has-focus' ); });
                input.addEventListener( 'blur', function(){ input.classList.remove( 'has-focus' ); });
            });
        }( document, window, 0 ));


    </script>
    

</body>
